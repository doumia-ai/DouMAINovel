# ==========================================
# MuMuAINovel 配置文件示例
# ==========================================
# 复制此文件为 .env 并修改配置值
# cp .env.example .env

# ==========================================
# 应用配置
# ==========================================
APP_NAME=DouMAINovel
APP_VERSION=1.3.0
APP_HOST=0.0.0.0
APP_PORT=8000
DEBUG=false
TZ=Asia/Shanghai

# ==========================================
# PostgreSQL 数据库配置
# ==========================================

# PostgreSQL 连接信息
POSTGRES_DB=mumuai_novel
POSTGRES_USER=mumuai
POSTGRES_PASSWORD=123456
POSTGRES_PORT=5432

# 数据库连接 URL（Docker 部署时自动生成）
# DATABASE_URL=postgresql+asyncpg://mumuai:123456@localhost:5432/mumuai_novel

# ==========================================
# SQLite 数据库配置
# ==========================================

# DATABASE_URL=sqlite+aiosqlite:///data/ai_story.db

# ==========================================
# 日志配置
# ==========================================
LOG_LEVEL=INFO
LOG_TO_FILE=true
LOG_FILE_PATH=logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=30

# ==========================================
# CORS 配置
# ==========================================
CORS_ORIGINS=["http://localhost:8000","http://127.0.0.1:8000"]

# ==========================================
# 代理配置（可选）
# ==========================================
# HTTP_PROXY=http://your-proxy:port
# HTTPS_PROXY=http://your-proxy:port
# NO_PROXY=localhost,127.0.0.1

# ==========================================
# AI 服务配置（至少配置一个）
# ==========================================

# OpenAI 配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1

# 默认 AI 配置
DEFAULT_AI_PROVIDER=openai
DEFAULT_MODEL=gpt-4o-mini
DEFAULT_TEMPERATURE=0.7
DEFAULT_MAX_TOKENS=32000

# ==========================================
# LinuxDO OAuth 配置（可选）
# ==========================================
LINUXDO_CLIENT_ID=11111
LINUXDO_CLIENT_SECRET=11111
LINUXDO_REDIRECT_URI=http://localhost:8000/api/auth/callback
FRONTEND_URL=http://localhost:8000

# 初始管理员（LinuxDO user_id）
# INITIAL_ADMIN_LINUXDO_ID=your_linuxdo_user_id

# ==========================================
# 本地账户登录配置
# ==========================================
LOCAL_AUTH_ENABLED=true
LOCAL_AUTH_USERNAME=admin
LOCAL_AUTH_PASSWORD=admin123
LOCAL_AUTH_DISPLAY_NAME=本地管理员

# ==========================================
# 会话配置
# ==========================================
SESSION_EXPIRE_MINUTES=120
SESSION_REFRESH_THRESHOLD_MINUTES=30

# ==========================================
# Cookie 域名配置（重要！）
# ==========================================
# 用于跨子域名共享 Cookie（如 SSE 子域名场景）
#
# 不设置（默认）：Cookie 仅对当前域名有效，适合单域名部署
# 设置为主域名：Cookie 对所有子域名有效，适合多子域名部署
#
# 示例：
# - 如果主域名是 example.com，设置为 .example.com（注意前面的点）
# - 这样 www.example.com、sse.example.com 等子域名都能共享 Cookie
#
# 注意：Edge 浏览器对 Cookie 域名验证较严格
# 如果遇到 Edge 浏览器登录问题，请检查此配置是否与实际访问域名匹配
#
# COOKIE_DOMAIN=.example.com
